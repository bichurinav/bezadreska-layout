document.addEventListener("DOMContentLoaded",()=>{$btnMobileMenu=document.querySelector(".navbar-btn"),$mobileMenu=document.querySelector(".navbar-mobile"),$btnMobileMenu.addEventListener("click",()=>{$mobileMenu.classList.toggle("active")});const e=document.getElementById("numberField");IMask(e,{mask:"+{7} (000) 000-00-00"});const t=document.querySelector(".wrapper-modal");function n(){alert("Что-то пошло не так, попробуйте снова отправить заявку"),$formBtn.textContent="Отправить заявку",$formBtn.removeAttribute("disabled")}$form=document.querySelector(".form"),$formBtn=document.querySelector(".form__btn"),$modalCloseBtn=document.querySelector(".modal-close__icon"),$modalCloseBtn.addEventListener("click",()=>{t.style.display="none"}),$form.addEventListener("submit",o=>{o.preventDefault();const a=o.target.elements.name.value,l=e.value,r=o.target.elements.message.value;$formBtn.textContent="Идет отправка...",$formBtn.setAttribute("disabled",!0),fetch("/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,number:l,message:r})}).then(e=>e.json()).then(a=>{"successful"===a.status?(o.target.elements.name.value="",l.value="",e.value="",o.target.elements.message="",t.style.display="flex",$formBtn.textContent="Отправить заявку",$formBtn.removeAttribute("disabled")):n()}).catch(()=>{n()})})});